function slugify(n){return n=n.normalize("NFKD"),n=n.toLowerCase(),n=n.replace(/\s+/g," ").trim(),n.replace(/[^a-z0-9\s]/g,"")}function getSearchResult(n){if(!n)return null;n=slugify(n);var t=new Fuse(memePages,{keys:["searchTitle","searchDescription","searchKeywords"],threshold:.3});return t.search(n)}function searchSubmit(){var n=document.getElementById("searchBar").value.toLowerCase().trim();if(!n){alert("Kérem adjon meg egy keresési kifejezést!");return}window.location.href="/search.html?query="+encodeURIComponent(n)}function showSearchResultsDropdown(){var n=document.getElementById("searchResultsDropdown"),i,t;if(n.innerHTML="",i=document.getElementById("searchBar").value.toLowerCase().trim(),t=getSearchResult(i),!t||t.length===0){n.style.display="none";return}n.style.display="block";t.slice(0,5).forEach(function(t){var u=t.item,r=document.createElement("a"),i;r.href=u.url;r.className="dropdown-item search-dropdown-item";r.setAttribute("tabindex",0);i=document.createElement("img");i.src=u.thumbnailUrl;i.alt=u.title;i.className="thumbnail";i.style.width="24px";i.style.height="24px";i.style.marginRight="4px";r.appendChild(i);r.appendChild(document.createTextNode(u.title));n.appendChild(r)})}function copyToClipboard(n,t){navigator.clipboard.writeText(n).then(function(){var n=t.outerHTML;t.outerHTML='<span id="copied-message">Copied!<\/span>';setTimeout(function(){document.getElementById("copied-message").outerHTML=n},2500)})}function randomMeme(){var n=memePages[Math.floor(Math.random()*memePages.length)];window.location.href=n.url}document.addEventListener("keydown",function(n){var r=document.getElementById("searchBar"),u=document.getElementById("searchResultsDropdown"),t=u.querySelectorAll(".dropdown-item"),i,f,e;n.target===r&&n.key==="Enter"?searchSubmit():t.length>0&&(i=-1,t.forEach((n,t)=>{document.activeElement===n&&(i=t)}),n.key==="ArrowDown"?(n.preventDefault(),f=(i+1)%t.length,t[f].focus()):n.key==="ArrowUp"?(n.preventDefault(),e=(i-1+t.length)%t.length,t[e].focus()):n.key==="Escape"&&(u.style.display="none",r.focus()))})